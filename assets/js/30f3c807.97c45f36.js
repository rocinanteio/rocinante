"use strict";(self.webpackChunkrocinante=self.webpackChunkrocinante||[]).push([[452],{5228:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>p});var t=i(7624),r=i(2172);const o={sidebar_position:3},a="Recipes",s={id:"review-app/recipes",title:"Recipes",description:"Docker Pull Secret",source:"@site/docs/review-app/recipes.mdx",sourceDirName:"review-app",slug:"/review-app/recipes",permalink:"/rocinante/docs/review-app/recipes",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/review-app/recipes.mdx",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Stop App (via Image)",permalink:"/rocinante/docs/review-app/stop-app-with-image"},next:{title:"Start Project",permalink:"/rocinante/docs/review-app/start-app"}},c={},p=[{value:"Docker Pull Secret",id:"docker-pull-secret",level:2},{value:"Override Rocinante Core API Objects",id:"override-rocinante-core-api-objects",level:2},{value:"Override Rocinante UI Objects",id:"override-rocinante-ui-objects",level:2},{value:"Using Custom Registry",id:"using-custom-registry",level:2}];function l(e){const n={admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,r.M)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"recipes",children:"Recipes"}),"\n",(0,t.jsx)(n.h2,{id:"docker-pull-secret",children:"Docker Pull Secret"}),"\n",(0,t.jsxs)(n.p,{children:["If you are using a private docker registry, you are probably using a secret to pull these images.  When using ",(0,t.jsx)(n.em,{children:"Rocinante"}),", you can easily pass this secret information to ",(0,t.jsx)(n.strong,{children:"Rocinante Core"}),". It will automatically inject this secret when creating your manifests."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"apiVersion: roci.io/v1beta1\nkind: ReviewApp\nversion: 0.0.1\nmetadata:\n  name: reviewapp-sample\n  namespace: roci-test\nspec:\n  override:\n    deployment:\n      spec:\n        template:\n          spec:\n            imagePullSecrets:\n              - name: ty-registry-secret\n"})}),"\n",(0,t.jsx)(n.p,{children:"This secret will be inject automatically to the ReviewApp Manifests."}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["The spec under override deployment is actually the spec properties of an ordinary Kubernetes ",(0,t.jsx)(n.strong,{children:"Deployment"})," object. You can override anything you want, not just ",(0,t.jsx)(n.strong,{children:"imagePullSecrets"}),"."]})}),"\n",(0,t.jsx)(n.h2,{id:"override-rocinante-core-api-objects",children:"Override Rocinante Core API Objects"}),"\n",(0,t.jsx)(n.p,{children:"You may want to pass extra information to the Rocinante Core app. We give you the possibility to override it."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'apiVersion: roci.io/v1beta1\nkind: ReviewApp\nversion: 0.0.1\nmetadata:\n  name: reviewapp-sample\n  namespace: roci-test\nspec:\n  coreDeployment:\n    spec:\n      replicas: 1\n      template:\n        metadata:\n          annotations:\n            roci.io/inject: "true"\n            roci.io/authoriazation: "true"\n  coreService:\n    metadata:\n      annotations:\n        roci.io/inject: "true"\n        roci.io/authoriazation: "true"\n'})}),"\n",(0,t.jsx)(n.h2,{id:"override-rocinante-ui-objects",children:"Override Rocinante UI Objects"}),"\n",(0,t.jsx)(n.p,{children:"You may want to pass extra information to the Rocinante UI. We give you the possibility to override it."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'apiVersion: roci.io/v1beta1\nkind: ReviewApp\nversion: 0.0.1\nmetadata:\n  name: reviewapp-sample\n  namespace: roci-test\nspec:\n  uiService:\n    metadata:\n      annotations:\n        roci.io/inject: "true"\n        roci.io/authoriazation: "true"\n'})}),"\n",(0,t.jsx)(n.h2,{id:"using-custom-registry",children:"Using Custom Registry"}),"\n",(0,t.jsx)(n.p,{children:"If you want to get code and ui services from your own environment and not from the public registry, you can use the following config."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"apiVersion: roci.io/v1beta1\nkind: ReviewApp\nversion: lib-ui-0.0.5\nmetadata:\n  name: reviewapp-sample\n  namespace: roci-test\nspec:\n  registry:\n    ui: registry.company.com/team/rocinante\n    core: registry.company.com/team/rocinante\n    imagePullSecrets:\n      - ty-registry-secrets\n"})})]})}function d(e={}){const{wrapper:n}={...(0,r.M)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},2172:(e,n,i)=>{i.d(n,{I:()=>s,M:()=>a});var t=i(1504);const r={},o=t.createContext(r);function a(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);